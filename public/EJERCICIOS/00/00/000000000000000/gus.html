<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #elCanvas {
            background-color: transparent;
            border: 1px solid black;
            /*border-radius: 100px;*/
            box-shadow: 10px 10px 8px rgba(0, 0, 0, .5);
            position: absolute;
        }
        /*
        body {
            margin-top: 0px;
            margin-left: 0px;
        }*/
    </style>
</head>

<body>
    <canvas id="container-1" height="200" width="600" style="display:block;margin:auto;"></canvas>
    <!--<img id="container-1" src="Tabla4x1.svg" width="" height="">-->
    <canvas id="elCanvas" width="200" height="200" style="display:none;">
        no html 5
    </canvas>
    
    <script>
        var imagenConZoom = document.getElementById('container-1'),
            lupa = document.getElementById("elCanvas"),
            ctxLupa = lupa.getContext('2d')
        window.onload = function () {
            poneImagenEnCanvas()
            inicio()
        }

        function inicio() {
            if(window.matchMedia("(max-width: 768px)")) {
                imagenConZoom.addEventListener("mousemove", dibujar)
                imagenConZoom.addEventListener("mouseover", mostrar)
                imagenConZoom.addEventListener("ontouchend", ocultar)
            } else {
                imagenConZoom.addEventListener("ontouchmove", dibujar)
                imagenConZoom.addEventListener("ontouchstart", mostrar)
                imagenConZoom.addEventListener("mouseout", ocultar)
            }
            
        }

        function mostrar() {
            lupa.style.display = "inline"
        }

        function ocultar() {
            lupa.style.display = "none"
        }

        function dibujar(event) {
            var posX = event.clientX
            var posY = event.clientY
            lupa.style.left = (posX + 10) + "px"
            lupa.style.top = (posY + 10) + "px"
            ctxLupa.clearRect(0, 0, lupa.width, lupa.height);
            ctxLupa.drawImage(imagenConZoom, posX - 50, posY - 50, 100, 100, 0, 0, 200, 200)
        }

        function poneImagenEnCanvas() {
            let canvasConImagen = document.getElementById('container-1')
            let ctx = canvasConImagen.getContext('2d')
            let img = new Image()
            img.src = "Tabla4x1.svg"
            img.onload = function () {
                ctx.drawImage(img, 0, 0)
            }
        }
        

    </script>
</body>

</html>